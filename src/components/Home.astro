---
import BaseLayout from "@/layouts/BaseLayout.astro";
import { loadSiteData } from "@/lib/siteData";
import HeroSection from "./sections/HeroSection.astro";
import CareerSection from "./sections/CareerSection.astro";
import PublicationsSection from "./sections/PublicationsSection.astro";
import CertificationSection from "./sections/CertificationSection.astro";
import ChangelogSection from "./sections/ChangelogSection.astro";

interface Props {
    lang?: string;
}

const { lang = "ja" } = Astro.props;

const { profile, publications, changelog } = await loadSiteData(lang as any);
---

<BaseLayout lang={lang}>
    <HeroSection lang={lang} profile={profile} />

    <PublicationsSection lang={lang} publications={publications} />

    <CareerSection lang={lang} profile={profile} />

    <CertificationSection lang={lang} certifications={profile.certifications} />

    <ChangelogSection lang={lang} entries={changelog.slice(0, 3)} />
</BaseLayout>
