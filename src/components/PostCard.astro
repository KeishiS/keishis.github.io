---
import type { CollectionEntry } from "astro:content";

interface Props {
    post: CollectionEntry<"blog">;
    lang: string;
}

const { lang, post } = Astro.props;
---

<article
    class="flex h-full flex-col items-start bg-surface p-6 rounded-2xl shadow-sm hover:shadow-md transition-shadow border border-border"
>
    <div class="flex items-center gap-x-4 text-xs">
        <time datetime={post.data.date.toISOString()} class="text-muted">
            {post.data.date.toLocaleDateString(lang)}
        </time>
        <div class="flex gap-2">
            {
                post.data.tags.slice(0, 2).map((tag) => (
                    <a
                        href={`/${lang}/blog/tag/${tag}`}
                        class="relative z-10 rounded-full bg-accent-soft px-2.5 py-0.5 font-medium text-accent hover:bg-accent-soft/80 transition-colors"
                    >
                        #{tag}
                    </a>
                ))
            }
        </div>
    </div>
    <div class="group relative mt-4">
        <h3
            class="mt-3 text-xl font-semibold leading-6 text-fg group-hover:text-accent transition-colors"
        >
            <a href={`/${post.data.lang}/blog/${post.data.slug}`}>
                <span class="absolute inset-0"></span>
                {post.data.title}
            </a>
        </h3>
        <p class="mt-4 line-clamp-3 text-sm leading-6 text-fg-subtle">
            {post.data.description}
        </p>
    </div>
</article>
