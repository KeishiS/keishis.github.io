= 研究の進捗報告：冬の陣
:author: KeishiS
:published_at: 2025-12-01
:revdate: 2025-12-01
:tags: Research, Update
:description: 12月に入り、研究活動が本格化してきました。現状の課題と今後の展望についてまとめます。

[[current-challenges]]
== 現状の課題

現在取り組んでいる静的サイト生成の最適化において、ビルド時間の短縮がボトルネックとなっています。
特に、数千ページ規模のサイトにおいて、AsciiDocの変換処理にかかる時間が無視できません。

静的サイトジェネレータ（SSG）は、事前にHTMLを生成することで高速な読み込みを実現しますが、コンテンツ量が増えるにつれてビルド時間が増大するという課題があります。
特に、複雑なマークアップや数式処理を含む技術ブログのようなケースでは、その傾向が顕著です。

我々のプロジェクトでは、Astroを採用することで部分的な再ビルドやオンデマンドレンダリングの可能性を探っていますが、完全な解決には至っていません。
以下に、具体的な計測データを示します（ダミーデータ）。

* 100ページ: 10秒
* 1000ページ: 120秒
* 5000ページ: 900秒

このように、ページ数に対して指数関数的に処理時間が増加しているわけではありませんが、開発体験（DX）を損なうレベルには達しています。

(余白確保のためのダミーテキスト)
これはダミーテキストです。研究活動においては、日々の積み重ねが重要です。
実験、計測、分析、そして考察。このサイクルを回し続けることが、真理への到達ルートです。
時には失敗もありますが、それもまた貴重なデータとなります。
諦めずに継続すること、それが研究者の資質として最も求められるものでしょう。
これはダミーテキストです。ここまで読んでいただきありがとうございます。
スクロールのための余白です。

== 技術的な詳細

ここで少し、技術的な詳細に踏み込んでみましょう。
AsciiDocのプロセッサであるAsciidoctorはRuby製ですが、JavaScript環境ではAsciidoctor.jsが利用されます。
これはOpalを使ってトランスパイルされたものであり、ネイティブなJS実装に比べるとオーバーヘッドが存在する可能性があります。

また、画像処理や数式レンダリング（MathJax）もビルドプロセスの一部として実行されるため、これらの最適化も不可欠です。
特に画像については、レスポンシブ対応のための複数サイズ生成がCPUリソースを大量に消費します。

(スクロール確認用ダミーテキスト)
山路を登りながら、こう考えた。
智に働けば角が立つ。情に棹させば流される。意地を通せば窮屈だ。とかくに人の世は住みにくい。
住みにくさが高じれば、安い所へ引き越したくなる。どこへ越しても住みにくいと悟った時、詩が生れて、画が出来る。
人の世を作ったものは神でもなければ鬼でもない。やはり向う三軒両隣りにちらちらするただの人である。
ただの人が作った人の世が住みにくいからとて、越す国はあるまい。あれば人でなしの国へ行くばかりだ。
人でなしの国は人の世よりもなお住みにくかろう。

== 今後の展望

並列処理の導入や、キャッシュ戦略の見直しを行う予定です。
詳細な技術的背景については、<<current-challenges, 現状の課題>> セクションを参照してください。

また、本プロジェクトの立ち上げ経緯については、 link:/ja/blog/first-post[最初の投稿] をご覧ください。

今後のロードマップとしては、以下の3点を重点的に進めていきます。

1. **インクリメンタルビルドの完全対応**: 変更があったファイルのみを再処理する仕組みを確立します。
2. **WebAssembly (Wasm) の活用**: Rustなどの高速な言語で書かれた処理系を導入し、ボトルネックを解消します。
3. **分散ビルド**: CI/CDパイプラインにおいて、ビルド処理を複数のノードに分散させることを検討します。

これらの施策により、来春までにはビルド時間を現在の50%以下に短縮することを目標としています。
ご期待ください。
